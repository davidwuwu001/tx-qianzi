# 回调通知说明

回调通知是腾讯电子签主动向您的业务系统推送合同状态变更等信息的一种机制。

## 1. 配置方式
在企业控制台的【应用集成】配置中，设置您的**回调地址**。

## 2. 请求规范
- **方式**：HTTP POST
- **格式**：JSON (`Content-Type: application/json`)
- **成功标识**：您的服务器需返回 HTTP Code 200。

## 3. 安全机制
- **消息加解密**：配置 `CallbackUrlKey` 后，请求体中的 `encrypt` 字段为 AES-256-CBC 加密内容。
- **签名验证**：配置 `验证 Token` 后，Header 中会包含 `Content-Signature`，用于验证请求来源。

## 4. 通知类型 (MsgType)
- `FlowStatusChange`：合同状态变更通知。
- `SignReview`：签署审批通知。
- `SealStatusChange`：印章状态变更通知。

## 5. 最佳实践
- **幂等处理**：由于网络原因，可能会收到重复的回调，请务必根据 `MsgId` 进行幂等校验。
- **状态校验**：建议在收到回调后，再调用查询接口主动获取一次合同状态，以确保数据准确。
